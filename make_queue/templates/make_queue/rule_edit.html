{% extends "web/base.html" %}
{% load staticfiles %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{% static "web/calendar/calendar.min.css" %}">
    <script type="text/javascript" src="{% static "web/calendar/calendar.min.js" %}"></script>
{% endblock %}


{% block body %}

    <div class="ui container">
        <h1>
            {% block form_title %}
                Rule
            {% endblock %}
        </h1>
        {% for error in form.non_field_errors %}
            <div class="ui red message">
                <i class="close icon"></i>
                <p>{{ error }}</p>
            </div>
        {% endfor %}
        <form class="ui form" method="post">
            {% csrf_token %}
            <div class="ui three fields">
                <div class="ui field">
                    <label>Start time</label>
                    {{ form.start_time }}
                </div>
                <div class="ui field">
                    <label>Days</label>
                    {{ form.days_changed }}
                </div>
                <div class="ui field">
                    <label>End time</label>
                    {{ form.end_time }}
                </div>
            </div>
            <h4>Start days</h4>
            <div class="ui seven fields">
                <div class="ui field">
                    <div class="ui checkbox">
                        {{ form.monday }}
                        <label>Monday</label>
                    </div>
                </div>
                <div class="ui field">
                    <div class="ui checkbox">
                        {{ form.tuesday }}
                        <label>Tuesday</label>
                    </div>
                </div>
                <div class="ui field">
                    <div class="ui checkbox">
                        {{ form.wednesday }}
                        <label>Wednesday</label>
                    </div>
                </div>
                <div class="ui field">
                    <div class="ui checkbox">
                        {{ form.thursday }}
                        <label>Thursday</label>
                    </div>
                </div>
                <div class="ui field">
                    <div class="ui checkbox">
                        {{ form.friday }}
                        <label>Friday</label>
                    </div>
                </div>
                <div class="ui field">
                    <div class="ui checkbox">
                        {{ form.saturday }}
                        <label>Saturday</label>
                    </div>
                </div>
                <div class="ui field">
                    <div class="ui checkbox">
                        {{ form.sunday }}
                        <label>Sunday</label>
                    </div>
                </div>
            </div>
            <div class="ui three fields">
                <div class="ui field">
                    <label>Hours inside</label>
                    {{ form.max_hours }}
                </div>
                <div class="ui field">
                    <label>Hours across borders</label>
                    {{ form.max_inside_border_crossed }}
                </div>
                <div class="ui field">
                    <label>Machine type</label>
                    {{ form.machine_type }}
                </div>
            </div>
            <button type="submit" class="ui blue button right floated">Submit</button>
        </form>

    </div>
    <script>
        $(".ui.calendar").calendar({type: "time", ampm: false});
        $(".message .close").on("click", function () {
            $(this).closest(".message").transition("fade");
        })
    </script>

{% endblock %}
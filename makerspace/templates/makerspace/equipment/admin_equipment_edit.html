{% extends 'web/base.html' %}
{% load static %}
{% load i18n %}


{% block title %}{% trans "Edit equipment" %}{% endblock title %}

{% block head %}
    <script type="text/javascript" src="{% static "ckeditor/ckeditor-init.js" %}"></script>
    <script type="text/javascript" src="{% static "ckeditor/ckeditor/ckeditor.js" %}"></script>
{% endblock head %}

{% block body %}
    <h1 class="ui centered header">
        {% block form_header %}{% trans "Edit equipment" %}{% endblock form_header %}
    </h1>
    <form class="ui form text container" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.non_field_errors }}

        {% for field in form %}
            <div class="field">
                {% for error in field.errors %}
                    <div class="ui negative small message">
                        <i class="close icon"></i>
                        {{ error }}
                    </div>
                {% endfor %}

                <label>{{ field.label }}</label>
                {{ field }}
            </div>
        {% endfor %}

        <input class="ui yellow right floated submit button" type="submit" value="{% trans "Save" %}"/>
        <a href="{% url "makerspace-equipment-admin" %}" class="ui red right floated button">
            {% trans "Cancel" context "abort action" %}
        </a>
    </form>

    <script>
        $(".message .close").click(function () {
            $(this)
                .closest(".message")
                .transition("fade");
        });
    </script>
{% endblock body %}

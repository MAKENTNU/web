{% extends "internal/base.html" %}
{% load i18n %}
{% load static %}

{% block body %}
    <div class="ui container">
        <h1 class="ui header">
            {% trans "Quotes" %}
            {% if perms.internal.add_quote %}
                <a href="{% url 'create_quote' %}">
                    <i class="ui green plus icon"></i>
                </a>
            {% endif %}
        </h1>
        <div class="ui cards">
        {% for quote in quotes %}
            <div class="card">
                <div class="content">
                    <div class="header">{{ quote.quoted }}:
                        {% if perms.internal.delete_quote and quote.author == request.user or request.user.is_superuser %}
                            <a class="delete-modal-button"
                               data-url="{% url 'delete_quote' quote.pk %}"
                               data-obj-name="{{ quote }}">
                                <i class="red right floated trash icon"></i>
                            </a>
                        {% endif %}
                        {% if perms.internal.change_quote and quote.author == request.user or request.user.is_superuser  %}
                            <a href="{% url 'edit_quote' quote.pk %}">
                                <i class="ui right floated make-col-yellow pencil icon"></i>
                            </a>
                        {% endif %}
                    </div>
                    <div class="description">
                        "{{ quote.quote }}"
                    </div>
                    <div class="meta">{{ quote.context }}</div>
                </div>
            </div>
        {% endfor %}
        </div>
    </div>
{% endblock body %}

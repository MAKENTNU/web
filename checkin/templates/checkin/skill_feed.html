{% load staticfiles %}
{% load thumbnail %}
{% load checkin_tags %}
{% load i18n %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{% static "checkin/css/checkin.css" %}"/>
{% endblock %}

{% block body %}
    {% if skill_dict %}
        <div class="ui segment" id="my-segment">
            <div id="image-container" class="ui inline field centering">
                {% for skill, leveltime in skill_dict %}
                    <div class="ui skill-image in-line"
                         data-html="{% include "checkin/skill_feed_popup.html" %}" data-position="right center">
                        {% if skill.image %}
                            {% thumbnail skill.image "50x50" crop="center" as im %}
                                <img class="ui circular image circular-image" src="{{ im.url }}"/>
                            {% endthumbnail %}
                        {% else %}
                            <img class="ui circular image placeholder-skill-image circular-image" width="50"
                                 height="50"
                                 src="{% static "checkin/img/placeholder_skill.svg" %}"/>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
            <i id="question-icon" class="ui make_col_yellow question circle large icon"
               data-html="{% trans "People with these skills are at Makerverkstedet" %}"
               data-position="left center"></i>
        </div>
    {% endif %}

{% endblock %}

{% block scripts %}
    <script>
        $('.ui.rating').rating();
        $('.rating.skill-lvl').rating('disable');
        $("#question-icon").popup();
        let hover = null;
        $('.skill-image').popup().hover(function () {
            hover = $(this);
        }).bind("touchstart", function () {
            hover = $(this);
        });
        $('#image-container').scroll(function () {
            hover.popup('hide');
        });
    </script>
{% endblock %}
